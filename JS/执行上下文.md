![[Pasted image 20240910212236.png]]


- **执行上下文** 是 JavaScript 代码执行的环境。每当函数被调用时，都会创建一个新的执行上下文。
- 执行上下文分为三种类型：
  - **全局执行上下文**：这是默认的上下文，代码在浏览器加载时首先进入全局上下文。
  - **函数执行上下文**：每次函数调用时，都会创建一个新的函数执行上下文。
  
- **调用栈**：图片中的栈展示了执行上下文是如何按顺序存入和取出的。当一个函数被调用时，函数的执行上下文会被压入调用栈；当函数执行完毕后，它的上下文会被从调用栈中弹出。

在示例中：
```javascript
function a() {
  b();
  function b() {
    c();
    function c() {
      console.log("我在里面");
    }
  }
}
a();
```
- 代码首先进入**全局执行上下文**。
- 调用 `a()` 时，`a` 的执行上下文被压入调用栈。
- 在 `a` 中调用 `b()` 时，`b` 的执行上下文被压入栈顶。
- 同理，`b` 调用 `c()` 时，`c` 的执行上下文被压入栈顶。
- 当函数执行完毕时，上下文依次从调用栈中弹出，直到栈空。


### 总结：
- **执行上下文**和**调用栈**管理了代码执行的顺序和作用域，每当一个函数调用时，它的上下文就会被推入栈，执行完毕后被弹出。
- **闭包**允许我们在函数外部访问函数内部的变量，保持这些变量的持久性，即使它们已经超出了原本的作用域。