![[Untitled diagram-2024-09-15-011930.png]]

### 1. 使用时机

- **`document.write()`**：
  - ![[Pasted image 20240915091552.png]]
  - **页面加载阶段**：通常在页面加载过程中使用，用于向文档流直接写入内容。
  - **页面加载后**：如果在页面加载完成后调用，会**清空整个文档**，重新开始输出，这通常不是预期的行为。
- ![[Pasted image 20240915091442.png]]

- **`innerHTML`**：
  - 可以在**任何时刻**使用，适用于动态更新页面内容，而不会影响页面的其他部分。

### 2. 作用范围

- **`document.write()`**：
  - 直接影响整个文档流，插入的内容会被解析为DOM的一部分。
  - 不能针对特定的DOM元素进行操作。

- **`innerHTML`**：
  - 作用于**特定的DOM元素**，通过修改元素的HTML内容来更新页面。
  - 只影响指定元素的内部内容，不会干扰其他部分。

### 3. 性能和安全性

- **`document.write()`**：
  - **性能较差**：过度使用可能导致页面加载变慢。
  - **安全性问题**：易受跨站脚本攻击（XSS）的影响。
  - **不推荐使用**：在现代网页开发中，已不提倡使用。

- **`innerHTML`**：
  - **性能较好**：可以高效地更新页面部分内容。
  - **相对安全**：但仍需注意避免插入不可信的内容。
  - **广泛使用**：是动态更新内容的常用方法。

### 4. 可维护性和可读性

- **`document.write()`**：
  - 代码可读性差，不利于维护。
  - 难以与现代的JavaScript框架或库兼容。

- **`innerHTML`**：
  - 代码结构清晰，易于理解和维护。
  - 更符合**现代开发实践**，易于与其他技术集成。

### 5. 示例对比

- **`document.write()`**：

  ```javascript
  document.write('<p>Hello, World!</p>');
  ```

  *在页面加载后调用上面的代码，会清空页面并只显示“Hello, World!”这段文本。*

- **`innerHTML`**：

  ```javascript
  document.getElementById('myDiv').innerHTML = '<p>Hello, World!</p>';
  ```

  *这段代码只会更新ID为`myDiv`的元素的内容，其他部分不会受影响。*

### **总结**

由于`document.write()`的限制和潜在问题，**不推荐在现代网页开发中使用**。相反，`innerHTML`以及其他DOM操作方法（如`appendChild`、`insertBefore`等）更为安全、灵活和高效，适合动态更新页面内容。

**建议**：

- **避免使用**`document.write()`，特别是在页面加载完成后。
- **优先使用**`innerHTML`或其他DOM操作方法来更新页面内容。
- **注意安全性**：在使用`innerHTML`时，确保插入的内容是可信的，防止XSS攻击。

希望以上解释能帮助您理解两者之间的区别和正确的使用方法。